version: "3"

tasks:
  aws_dev:
    desc: Export secrets for dev environment to aws secrets manager
    platforms: [windows]
    cmds:
      - pwsh.exe -File .\\scripts\\aws_export_secrets.ps1 -envFile $DEV_SECRETS_FILE -secretName $DEV_SECRET_NAME
  aws_prod:
    desc: Export secrets for prod environment to aws secrets manager
    platforms: [windows]
    cmds:
      - pwsh.exe -File .\\scripts\\aws_export_secrets.ps1 -envFile $PROD_SECRETS_FILE -secretName $PROD_SECRET_NAME
  aws_import:
    desc: Import secrets from aws secrets manager to local env file
    platforms: [windows]
    cmds:
      - pwsh.exe -File .\\scripts\\aws_import_secrets.ps1 -secretName $DEV_SECRET_NAME
